<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>apiary-cosmos</title>
</head>
<body>
  <script src="https://api.apiary.io/seeds/embed.js"></script>
  <script>
    var embed = new Apiary.Embed({
      apiBlueprint: "FORMAT: 1A\nHOST: http://cosmos.lab.fiware.org/\n\n# FIWARE-COSMOS API (v1)\n\nFIWARE-COSMOS API (v1).\n\nThis is a cookbook with commands that show how to use FIWARE cosmos API.\nIt\'s a work in progress and is changing on a daily basis.\n\nPlease check the following [FIWARE Open Specification Legal Notice (implicit patents license)]\n(http://forge.fiware.org/plugins/mediawiki/wiki/fiware/index.php/FI-WARE_Open_Specification_Legal_Notice_(implicit_patents_license))\nto understand the rights to use this document.\n\n\n# Description\n\nThis resource allows you to obtain a list of subresources published by the API:\n\n* version of the current running tidoop\n* information about jobs running on the current tidoop\n\n## GET tidoop version [GET /tidoop/v1/version]\n\nGets the running version of cosmos-tidoop.\n\n+ Request\n\n       GET http://<tidoop_host>:<tidoop_port>/tidoop/v1/version HTTP/1.1\n\n+ Headers\n\n       X-Auth-Token: xXXxxxxxxXXxxxXXXxXXXxxXxxXXxx\n\n+ Response 200 (application/json)\n\n       [\n            {\n              \"success\": \"true\",\n              \"version\": \"0.2.0-next\"\n            }\n       ]\n\n## GET all jobs [GET /tidoop/v1/user/{userId}/jobs]\n\nGets the details for all the MapReduce jobs run by the given user ID.\n\n+ Request\n\n       GET http://<tidoop_host>:<tidoop_port>/tidoop/v1/user/{userId}}/jobs HTTP/1.1\n\n+ Headers\n\n       X-Auth-Token: xXXxxxxxxXXxxxXXXxXXXxxXxxXXxx\n\n+ Response 200 (application/json)\n\n       {\n               \"success\": \"true\",\n               \"jobs\": [{\n                       \"job_id\": \"job_1460639183882_0005\",\n                       \"state\": \"SUCCEEDED\",\n                       \"start_time\": \"1460963556383\",\n                       \"user_id\": \"<userId>\"\n               }, {\n                       \"job_id\": \"job_1460639183882_0004\",\n                       \"state\": \"SUCCEEDED\",\n                       \"start_time\": \"1460959583838\",\n                       \"user_id\": \"<userId>\"\n               }]\n       }\n\n## GET a specific job [GET /tidoop/v1/user/{userId}/jobs/{jobId}]\n\nGets the details for a specific MapReduce job run by the given user ID.\n\n+ Request\n\n      GET http://<tidoop_host>:<tidoop_port>/tidoop/v1/user/{userId}/jobs/{jobId} HTTP/1.1\n\n+ Headers\n\n      X-Auth-Token: xXXxxxxxxXXxxxXXXxXXXxxXxxXXxx\n\n+ Response 200 (application/json)\n\n       {\n               \"success\": \"true\",\n               \"job\": {\n                       \"job_id\": \"job_1460639183882_0005\",\n                       \"state\": \"SUCCEEDED\",\n                       \"start_time\": \"1460963556383\",\n                       \"user_id\": \"frb\"\n               }\n       }\n\n## POST a specific job in cosmos-tidoop [POST /tidoop/v1/user/{userId}/jobs]\n\nRuns a MapReduce job given the following parameters:\n\n* Java jar containing the desired MapReduce application.\n* The name of the MapReduce application.\n* Any additional library jars required by the application.\n* The input HDFS directory in the storage cluster.\n* The output HDFS directory in the storeage cluster.\n\n\n+ Request\n\n       POST http://<tidoop_host>:<tidoop_port>/tidoop/v1/user/{userId}/jobs HTTP/1.1\n       {\n               \"jar\": \"/usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar\",\n               \"class_name\": \"wordcount\",\n               \"lib_jars\": \"/usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar\",\n               \"input\": \"mrtest\",\n               \"output\": \"output4\"\n       }\n\n+ Headers\n\n       X-Auth-Token: xXXxxxxxxXXxxxXXXxXXXxxXxxXXxx\n\n+ Response 200 (application/json)\n\n       {\n               \"success\": \"true\",\n               \"job_id\": \"job_1460639183882_0005\"\n       }\n\n## DELETE a job on cosmos-tidoop [DELETE /tidoop/v1/user/{userId}/jobs/{jobId}]\n\nDeletes the given MapReduce job run by the given user ID.\n\n+ Request\n\n       DELETE http://<tidoop_host>:<tidoop_port>/tidoop/v1/user/{userId}/jobs/{jobId} HTTP/1.1\n\n+ Headers\n\n       X-Auth-Token: xXXxxxxxxXXxxxXXXxXXXxxXxxXXxx\n\n+ Response 200 (application/json)\n\n       {\n               \"success\": \"true\",\n       }\n"
    });
  </script>
</body>
</html>
